import{r as e,a as n}from"./BqUCZHEx.js";import{K as t,w as o,T as r,j as a,x as u,b as i,o as l,h as c,u as s,e as f,q as d,d as v,t as p,B as m,c as h,A as g}from"./CWL1kuGj.js";import{c as b}from"./D61fuREp.js";import{F as w}from"./Bb0d05tT.js";import{r as y}from"./DhsIdmQp.js";import{R as E}from"./BIU5KoPJ.js";import"./SEPaX3IY.js";import{d as S,c as C,k as x,e as R,b as M,g as I,w as N,f as D,_ as T,a as P}from"./Co2HKlK5.js";import{T as k}from"./zfMujk01.js";var O=function(n){var t=n.className,o=n.customizeIcon,r=n.customizeIconProps,a=n.children,u=n.onMouseDown,i=n.onClick,l="function"==typeof o?o(r):o;return e.createElement("span",{className:t,onMouseDown:function(e){e.preventDefault(),null==u||u(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:i,"aria-hidden":!0},void 0!==l?l:e.createElement("span",{className:b(t.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},a))},L=e.createContext(null);function V(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=e.useRef(null),o=e.useRef(null);return e.useEffect((function(){return function(){window.clearTimeout(o.current)}}),[]),[function(){return t.current},function(e){(e||null===t.current)&&(t.current=e),window.clearTimeout(o.current),o.current=window.setTimeout((function(){t.current=null}),n)}]}var A=["prefixCls","id","inputElement","autoFocus","autoComplete","editable","activeDescendantId","value","open","attrs"],F=function(n,t){var u=n.prefixCls,i=n.id,l=n.inputElement,c=n.autoFocus,s=n.autoComplete,f=n.editable,d=n.activeDescendantId,v=n.value,p=n.open,m=n.attrs,h=x(n,A),g=l||e.createElement("input",null),w=g,y=w.ref,E=w.props;return o(!("maxLength"in g.props)),g=e.cloneElement(g,R(R(R({type:"search"},r(h,E)),{},{id:i,ref:a(t,y),autoComplete:s||"off",autoFocus:c,className:b("".concat(u,"-selection-search-input"),null==E?void 0:E.className),role:"combobox","aria-expanded":p||!1,"aria-haspopup":"listbox","aria-owns":"".concat(i,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(i,"_list"),"aria-activedescendant":p?d:void 0},m),{},{value:f?v:"",readOnly:!f,unselectable:f?null:"on",style:R(R({},E.style),{},{opacity:f?null:0})}))},H=e.forwardRef(F);function z(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var _="undefined"!=typeof window&&window.document&&window.document.documentElement;function K(e){return["string","number"].includes(S(e))}function j(e){var n=void 0;return e&&(K(e.title)?n=e.title.toString():K(e.label)&&(n=e.label.toString())),n}function B(e){var n;return null!==(n=e.key)&&void 0!==n?n:e.value}var W=function(e){e.preventDefault(),e.stopPropagation()},Y=function(n){var t,o,r=n.id,a=n.prefixCls,i=n.values,l=n.open,c=n.searchValue,s=n.autoClearSearchValue,f=n.inputRef,d=n.placeholder,v=n.disabled,p=n.mode,m=n.showSearch,h=n.autoFocus,g=n.autoComplete,y=n.activeDescendantId,E=n.tabIndex,S=n.removeIcon,x=n.maxTagCount,R=n.maxTagTextLength,I=n.maxTagPlaceholder,N=void 0===I?function(e){return"+ ".concat(e.length," ...")}:I,D=n.tagRender,T=n.onToggleOpen,P=n.onRemove,k=n.onInputChange,L=n.onInputPaste,V=n.onInputKeyDown,A=n.onInputMouseDown,F=n.onInputCompositionStart,z=n.onInputCompositionEnd,K=n.onInputBlur,Y=e.useRef(null),X=e.useState(0),U=C(X,2),G=U[0],q=U[1],J=e.useState(!1),Q=C(J,2),$=Q[0],Z=Q[1],ee="".concat(a,"-selection"),ne=l||"multiple"===p&&!1===s||"tags"===p?c:"",te="tags"===p||"multiple"===p&&!1===s||m&&(l||$);t=function(){q(Y.current.scrollWidth)},o=[ne],_?e.useLayoutEffect(t,o):e.useEffect(t,o);var oe=function(n,t,o,r,a){return e.createElement("span",{title:j(n),className:b("".concat(ee,"-item"),M({},"".concat(ee,"-item-disabled"),o))},e.createElement("span",{className:"".concat(ee,"-item-content")},t),r&&e.createElement(O,{className:"".concat(ee,"-item-remove"),onMouseDown:W,onClick:a,customizeIcon:S},"×"))},re=function(n,t,o,r,a,u){return e.createElement("span",{onMouseDown:function(e){W(e),T(!l)}},D({label:t,value:n,disabled:o,closable:r,onClose:a,isMaxTag:!!u}))},ae=e.createElement("div",{className:"".concat(ee,"-search"),style:{width:G},onFocus:function(){Z(!0)},onBlur:function(){Z(!1)}},e.createElement(H,{ref:f,open:l,prefixCls:a,id:r,inputElement:null,disabled:v,autoFocus:h,autoComplete:g,editable:te,activeDescendantId:y,value:ne,onKeyDown:V,onMouseDown:A,onChange:k,onPaste:L,onCompositionStart:F,onCompositionEnd:z,onBlur:K,tabIndex:E,attrs:u(n,!0)}),e.createElement("span",{ref:Y,className:"".concat(ee,"-search-mirror"),"aria-hidden":!0},ne," ")),ue=e.createElement(w,{prefixCls:"".concat(ee,"-overflow"),data:i,renderItem:function(e){var n=e.disabled,t=e.label,o=e.value,r=!v&&!n,a=t;if("number"==typeof R&&("string"==typeof t||"number"==typeof t)){var u=String(a);u.length>R&&(a="".concat(u.slice(0,R),"..."))}var i=function(n){n&&n.stopPropagation(),P(e)};return"function"==typeof D?re(o,a,n,r,i):oe(e,a,n,r,i)},renderRest:function(e){if(!i.length)return null;var n="function"==typeof N?N(e):N;return"function"==typeof D?re(void 0,n,!1,!1,void 0,!0):oe({title:n},n,!1)},suffix:ae,itemKey:B,maxCount:x});return e.createElement("span",{className:"".concat(ee,"-wrap")},ue,!i.length&&!ne&&e.createElement("span",{className:"".concat(ee,"-placeholder")},d))},X=function(n){var t=n.inputElement,o=n.prefixCls,r=n.id,a=n.inputRef,i=n.disabled,l=n.autoFocus,c=n.autoComplete,s=n.activeDescendantId,f=n.mode,d=n.open,v=n.values,p=n.placeholder,m=n.tabIndex,h=n.showSearch,g=n.searchValue,b=n.activeValue,w=n.maxLength,y=n.onInputKeyDown,E=n.onInputMouseDown,S=n.onInputChange,x=n.onInputPaste,R=n.onInputCompositionStart,M=n.onInputCompositionEnd,I=n.onInputBlur,N=n.title,D=e.useState(!1),T=C(D,2),P=T[0],k=T[1],O="combobox"===f,L=O||h,V=v[0],A=g||"";O&&b&&!P&&(A=b),e.useEffect((function(){O&&k(!1)}),[O,b]);var F=!("combobox"!==f&&!d&&!h)&&!!A,z=void 0===N?j(V):N,_=e.useMemo((function(){return V?null:e.createElement("span",{className:"".concat(o,"-selection-placeholder"),style:F?{visibility:"hidden"}:void 0},p)}),[V,F,p,o]);return e.createElement("span",{className:"".concat(o,"-selection-wrap")},e.createElement("span",{className:"".concat(o,"-selection-search")},e.createElement(H,{ref:a,prefixCls:o,id:r,open:d,inputElement:t,disabled:i,autoFocus:l,autoComplete:c,editable:L,activeDescendantId:s,value:A,onKeyDown:y,onMouseDown:E,onChange:function(e){k(!0),S(e)},onPaste:x,onCompositionStart:R,onCompositionEnd:M,onBlur:I,tabIndex:m,attrs:u(n,!0),maxLength:O?w:void 0})),!O&&V?e.createElement("span",{className:"".concat(o,"-selection-item"),title:z,style:F?{visibility:"hidden"}:void 0},V.label):null,_)},U=function(n,o){var r=e.useRef(null),a=e.useRef(!1),u=n.prefixCls,i=n.open,l=n.mode,c=n.showSearch,s=n.tokenWithEnter,f=n.disabled,d=n.prefix,v=n.autoClearSearchValue,p=n.onSearch,m=n.onSearchSubmit,h=n.onToggleOpen,g=n.onInputKeyDown,b=n.onInputBlur,w=n.domRef;e.useImperativeHandle(o,(function(){return{focus:function(e){r.current.focus(e)},blur:function(){r.current.blur()}}}));var y=V(0),E=C(y,2),S=E[0],x=E[1],R=e.useRef(null),M=function(e){!1!==p(e,!0,a.current)&&h(!0)},N={inputRef:r,onInputKeyDown:function(e){var n,o=e.which,u=r.current instanceof HTMLTextAreaElement;(u||!i||o!==t.UP&&o!==t.DOWN||e.preventDefault(),g&&g(e),o!==t.ENTER||"tags"!==l||a.current||i||null==m||m(e.target.value),u&&!i&&~[t.UP,t.DOWN,t.LEFT,t.RIGHT].indexOf(o))||(n=o)&&![t.ESC,t.SHIFT,t.BACKSPACE,t.TAB,t.WIN_KEY,t.ALT,t.META,t.WIN_KEY_RIGHT,t.CTRL,t.SEMICOLON,t.EQUALS,t.CAPS_LOCK,t.CONTEXT_MENU,t.F1,t.F2,t.F3,t.F4,t.F5,t.F6,t.F7,t.F8,t.F9,t.F10,t.F11,t.F12].includes(n)&&h(!0)},onInputMouseDown:function(){x(!0)},onInputChange:function(e){var n=e.target.value;if(s&&R.current&&/[\r\n]/.test(R.current)){var t=R.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");n=n.replace(t,R.current)}R.current=null,M(n)},onInputPaste:function(e){var n=e.clipboardData,t=null==n?void 0:n.getData("text");R.current=t||""},onInputCompositionStart:function(){a.current=!0},onInputCompositionEnd:function(e){a.current=!1,"combobox"!==l&&M(e.target.value)},onInputBlur:b},D="multiple"===l||"tags"===l?e.createElement(Y,I({},n,N)):e.createElement(X,I({},n,N));return e.createElement("div",{ref:w,className:"".concat(u,"-selector"),onClick:function(e){e.target!==r.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){r.current.focus()})):r.current.focus())},onMouseDown:function(e){var n=S();e.target===r.current||n||"combobox"===l&&f||e.preventDefault(),("combobox"===l||c&&n)&&i||(i&&!1!==v&&p("",!0,!1),h())}},d&&e.createElement("div",{className:"".concat(u,"-prefix")},d),D)},G=e.forwardRef(U),q=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],J=function(n,t){var o=n.prefixCls;n.disabled;var r=n.visible,a=n.children,u=n.popupElement,i=n.animation,l=n.transitionName,c=n.dropdownStyle,s=n.dropdownClassName,f=n.direction,d=void 0===f?"ltr":f,v=n.placement,p=n.builtinPlacements,m=n.dropdownMatchSelectWidth,h=n.dropdownRender,g=n.dropdownAlign,w=n.getPopupContainer,y=n.empty,E=n.getTriggerDOMNode,S=n.onPopupVisibleChange,C=n.onPopupMouseEnter,N=x(n,q),D="".concat(o,"-dropdown"),T=u;h&&(T=h(u));var P=e.useMemo((function(){return p||function(e){var n=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"}}}(m)}),[p,m]),O=i?"".concat(D,"-").concat(i):l,L="number"==typeof m,V=e.useMemo((function(){return L?null:!1===m?"minWidth":"width"}),[m,L]),A=c;L&&(A=R(R({},A),{},{width:m}));var F=e.useRef(null);return e.useImperativeHandle(t,(function(){return{getPopupElement:function(){var e;return null===(e=F.current)||void 0===e?void 0:e.popupElement}}})),e.createElement(k,I({},N,{showAction:S?["click"]:[],hideAction:S?["click"]:[],popupPlacement:v||("rtl"===d?"bottomRight":"bottomLeft"),builtinPlacements:P,prefixCls:D,popupTransitionName:O,popup:e.createElement("div",{onMouseEnter:C},T),ref:F,stretch:V,popupAlign:g,popupVisible:r,getPopupContainer:w,popupClassName:b(s,M({},"".concat(D,"-empty"),y)),popupStyle:A,getTriggerDOMNode:E,onPopupVisibleChange:S}),a)},Q=e.forwardRef(J);function $(e,n){var t,o=e.key;return"value"in e&&(t=e.value),null!=o?o:void 0!==t?t:"rc-index-key-".concat(n)}function Z(e){return void 0!==e&&!Number.isNaN(e)}function ee(e,n){var t=e||{},o=t.label||(n?"children":"label");return{label:o,value:t.value||"value",options:t.options||"options",groupLabel:t.groupLabel||o}}function ne(e){var n=R({},e);return"props"in n||Object.defineProperty(n,"props",{get:function(){return i(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),n}}),n}var te=e.createContext(null);function oe(n){var t=n.visible,o=n.values;if(!t)return null;return e.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(o.slice(0,50).map((function(e){var n=e.label,t=e.value;return["number","string"].includes(S(n))?n:t})).join(", ")),o.length>50?", ...":null)}var re=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],ae=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],ue=function(e){return"tags"===e||"multiple"===e},ie=e.forwardRef((function(t,o){var r,a=t.id,u=t.prefixCls,i=t.className,d=t.showSearch,v=t.tagRender,p=t.direction,m=t.omitDomProps,h=t.displayValues,g=t.onDisplayValuesChange,w=t.emptyOptions,y=t.notFoundContent,E=void 0===y?"Not Found":y,T=t.onClear,P=t.mode,k=t.disabled,A=t.loading,F=t.getInputElement,H=t.getRawInputElement,z=t.open,_=t.defaultOpen,K=t.onDropdownVisibleChange,j=t.activeValue,B=t.onActiveValueChange,W=t.activeDescendantId,Y=t.searchValue,X=t.autoClearSearchValue,U=t.onSearch,q=t.onSearchSplit,J=t.tokenSeparators,$=t.allowClear,ee=t.prefix,ne=t.suffixIcon,ie=t.clearIcon,le=t.OptionList,ce=t.animation,se=t.transitionName,fe=t.dropdownStyle,de=t.dropdownClassName,ve=t.dropdownMatchSelectWidth,pe=t.dropdownRender,me=t.dropdownAlign,he=t.placement,ge=t.builtinPlacements,be=t.getPopupContainer,we=t.showAction,ye=void 0===we?[]:we,Ee=t.onFocus,Se=t.onBlur,Ce=t.onKeyUp,xe=t.onKeyDown,Re=t.onMouseDown,Me=x(t,re),Ie=ue(P),Ne=(void 0!==d?d:Ie)||"combobox"===P,De=R({},Me);ae.forEach((function(e){delete De[e]})),null==m||m.forEach((function(e){delete De[e]}));var Te=e.useState(!1),Pe=C(Te,2),ke=Pe[0],Oe=Pe[1];e.useEffect((function(){Oe(l())}),[]);var Le=e.useRef(null),Ve=e.useRef(null),Ae=e.useRef(null),Fe=e.useRef(null),He=e.useRef(null),ze=e.useRef(!1),_e=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=e.useState(!1),o=C(t,2),r=o[0],a=o[1],u=e.useRef(null),i=function(){window.clearTimeout(u.current)};return e.useEffect((function(){return i}),[]),[r,function(e,t){i(),u.current=window.setTimeout((function(){a(e),t&&t()}),n)},i]}(),Ke=C(_e,3),je=Ke[0],Be=Ke[1],We=Ke[2];e.useImperativeHandle(o,(function(){var e,n;return{focus:null===(e=Fe.current)||void 0===e?void 0:e.focus,blur:null===(n=Fe.current)||void 0===n?void 0:n.blur,scrollTo:function(e){var n;return null===(n=He.current)||void 0===n?void 0:n.scrollTo(e)},nativeElement:Le.current||Ve.current}}));var Ye=e.useMemo((function(){var e;if("combobox"!==P)return Y;var n=null===(e=h[0])||void 0===e?void 0:e.value;return"string"==typeof n||"number"==typeof n?String(n):""}),[Y,P,h]),Xe="combobox"===P&&"function"==typeof F&&F()||null,Ue="function"==typeof H&&H(),Ge=c(Ve,null==Ue||null===(r=Ue.props)||void 0===r?void 0:r.ref),qe=e.useState(!1),Je=C(qe,2),Qe=Je[0],$e=Je[1];s((function(){$e(!0)}),[]);var Ze=f(!1,{defaultValue:_,value:z}),en=C(Ze,2),nn=en[0],tn=en[1],on=!!Qe&&nn,rn=!E&&w;(k||rn&&on&&"combobox"===P)&&(on=!1);var an=!rn&&on,un=e.useCallback((function(e){var n=void 0!==e?e:!on;k||(tn(n),on!==n&&(null==K||K(n)))}),[k,on,tn,K]),ln=e.useMemo((function(){return(J||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[J]),cn=e.useContext(te)||{},sn=cn.maxCount,fn=cn.rawValues,dn=function(e,n,t){if(!(Ie&&Z(sn)&&(null==fn?void 0:fn.size)>=sn)){var o=!0,r=e;null==B||B(null);var a=function(e,n,t){if(!n||!n.length)return null;var o=!1,r=function e(n,t){var r=N(t),a=r[0],u=r.slice(1);if(!a)return[n];var i=n.split(a);return o=o||i.length>1,i.reduce((function(n,t){return[].concat(D(n),D(e(t,u)))}),[]).filter(Boolean)}(e,n);return o?void 0!==t?r.slice(0,t):r:null}(e,J,Z(sn)?sn-fn.size:void 0),u=t?null:a;return"combobox"!==P&&u&&(r="",null==q||q(u),un(!1),o=!1),U&&Ye!==r&&U(r,{source:n?"typing":"effect"}),o}};e.useEffect((function(){on||Ie||"combobox"===P||dn("",!1,!1)}),[on]),e.useEffect((function(){nn&&k&&tn(!1),k&&!ze.current&&Be(!1)}),[k]);var vn=V(),pn=C(vn,2),mn=pn[0],hn=pn[1],gn=e.useRef(!1),bn=e.useRef(!1),wn=[];e.useEffect((function(){return function(){wn.forEach((function(e){return clearTimeout(e)})),wn.splice(0,wn.length)}}),[]);var yn,En=e.useState({}),Sn=C(En,2)[1];Ue&&(yn=function(e){un(e)}),function(n,t,o,r){var a=e.useRef(null);a.current={open:t,triggerOpen:o,customizedTrigger:r},e.useEffect((function(){function e(e){var t;if(null===(t=a.current)||void 0===t||!t.customizedTrigger){var o=e.target;o.shadowRoot&&e.composed&&(o=e.composedPath()[0]||o),a.current.open&&n().filter((function(e){return e})).every((function(e){return!e.contains(o)&&e!==o}))&&a.current.triggerOpen(!1)}}return window.addEventListener("mousedown",e),function(){return window.removeEventListener("mousedown",e)}}),[])}((function(){var e;return[Le.current,null===(e=Ae.current)||void 0===e?void 0:e.getPopupElement()]}),an,un,!!Ue);var Cn,xn=e.useMemo((function(){return R(R({},t),{},{notFoundContent:E,open:on,triggerOpen:an,id:a,showSearch:Ne,multiple:Ie,toggleOpen:un})}),[t,E,an,on,a,Ne,Ie,un]),Rn=!!ne||A;Rn&&(Cn=e.createElement(O,{className:b("".concat(u,"-arrow"),M({},"".concat(u,"-arrow-loading"),A)),customizeIcon:ne,customizeIconProps:{loading:A,searchValue:Ye,open:on,focused:je,showSearch:Ne}}));var Mn,In=function(e,t,o,r,a){var u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=n.useMemo((function(){return"object"===S(r)?r.clearIcon:a||void 0}),[r,a]);return{allowClear:n.useMemo((function(){return!(u||!r||!o.length&&!i||"combobox"===l&&""===i)}),[r,u,o.length,i,l]),clearIcon:n.createElement(O,{className:"".concat(e,"-clear"),onMouseDown:t,customizeIcon:c},"×")}}(u,(function(){var e;null==T||T(),null===(e=Fe.current)||void 0===e||e.focus(),g([],{type:"clear",values:h}),dn("",!1,!1)}),h,$,ie,k,Ye,P),Nn=In.allowClear,Dn=In.clearIcon,Tn=e.createElement(le,{ref:He}),Pn=b(u,i,M(M(M(M(M(M(M(M(M(M({},"".concat(u,"-focused"),je),"".concat(u,"-multiple"),Ie),"".concat(u,"-single"),!Ie),"".concat(u,"-allow-clear"),$),"".concat(u,"-show-arrow"),Rn),"".concat(u,"-disabled"),k),"".concat(u,"-loading"),A),"".concat(u,"-open"),on),"".concat(u,"-customize-input"),Xe),"".concat(u,"-show-search"),Ne)),kn=e.createElement(Q,{ref:Ae,disabled:k,prefixCls:u,visible:an,popupElement:Tn,animation:ce,transitionName:se,dropdownStyle:fe,dropdownClassName:de,direction:p,dropdownMatchSelectWidth:ve,dropdownRender:pe,dropdownAlign:me,placement:he,builtinPlacements:ge,getPopupContainer:be,empty:w,getTriggerDOMNode:function(e){return Ve.current||e},onPopupVisibleChange:yn,onPopupMouseEnter:function(){Sn({})}},Ue?e.cloneElement(Ue,{ref:Ge}):e.createElement(G,I({},t,{domRef:Ve,prefixCls:u,inputElement:Xe,ref:Fe,id:a,prefix:ee,showSearch:Ne,autoClearSearchValue:X,mode:P,activeDescendantId:W,tagRender:v,values:h,open:on,onToggleOpen:un,activeValue:j,searchValue:Ye,onSearch:dn,onSearchSubmit:function(e){e&&e.trim()&&U(e,{source:"submit"})},onRemove:function(e){var n=h.filter((function(n){return n!==e}));g(n,{type:"remove",values:[e]})},tokenWithEnter:ln,onInputBlur:function(){gn.current=!1}})));return Mn=Ue?kn:e.createElement("div",I({className:Pn},De,{ref:Le,onMouseDown:function(e){var n,t=e.target,o=null===(n=Ae.current)||void 0===n?void 0:n.getPopupElement();if(o&&o.contains(t)){var r=setTimeout((function(){var e,n=wn.indexOf(r);-1!==n&&wn.splice(n,1),We(),ke||o.contains(document.activeElement)||null===(e=Fe.current)||void 0===e||e.focus()}));wn.push(r)}for(var a=arguments.length,u=new Array(a>1?a-1:0),i=1;i<a;i++)u[i-1]=arguments[i];null==Re||Re.apply(void 0,[e].concat(u))},onKeyDown:function(e){var n,t=mn(),o=e.key,r="Enter"===o;if(r&&("combobox"!==P&&e.preventDefault(),on||un(!0)),hn(!!Ye),"Backspace"===o&&!t&&Ie&&!Ye&&h.length){for(var a=D(h),u=null,i=a.length-1;i>=0;i-=1){var l=a[i];if(!l.disabled){a.splice(i,1),u=l;break}}u&&g(a,{type:"remove",values:[u]})}for(var c=arguments.length,s=new Array(c>1?c-1:0),f=1;f<c;f++)s[f-1]=arguments[f];!on||r&&gn.current||(r&&(gn.current=!0),null===(n=He.current)||void 0===n||n.onKeyDown.apply(n,[e].concat(s))),null==xe||xe.apply(void 0,[e].concat(s))},onKeyUp:function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),o=1;o<n;o++)t[o-1]=arguments[o];var r;on&&(null===(r=He.current)||void 0===r||r.onKeyUp.apply(r,[e].concat(t))),"Enter"===e.key&&(gn.current=!1),null==Ce||Ce.apply(void 0,[e].concat(t))},onFocus:function(){Be(!0),k||(Ee&&!bn.current&&Ee.apply(void 0,arguments),ye.includes("focus")&&un(!0)),bn.current=!0},onBlur:function(){ze.current=!0,Be(!1,(function(){bn.current=!1,ze.current=!1,un(!1)})),k||(Ye&&("tags"===P?U(Ye,{source:"submit"}):"multiple"===P&&U("",{source:"blur"})),Se&&Se.apply(void 0,arguments))}}),e.createElement(oe,{visible:je&&!on,values:h}),kn,Cn,Nn&&Dn),e.createElement(L.Provider,{value:xn},Mn)})),le=function(){return null};le.isSelectOptGroup=!0;var ce=function(){return null};ce.isSelectOption=!0;var se=e.forwardRef((function(n,t){var o=n.height,r=n.offsetY,a=n.offsetX,u=n.children,i=n.prefixCls,l=n.onInnerResize,c=n.innerProps,s=n.rtl,f=n.extra,d={},v={display:"flex",flexDirection:"column"};return void 0!==r&&(d={height:o,position:"relative",overflow:"hidden"},v=R(R({},v),{},M(M(M(M(M({transform:"translateY(".concat(r,"px)")},s?"marginRight":"marginLeft",-a),"position","absolute"),"left",0),"right",0),"top",0))),e.createElement("div",{style:d},e.createElement(E,{onResize:function(e){e.offsetHeight&&l&&l()}},e.createElement("div",I({style:v,className:b(M({},"".concat(i,"-holder-inner"),i)),ref:t},c),u,f)))}));function fe(n){var t=n.children,o=n.setRef,r=e.useCallback((function(e){o(e)}),[]);return e.cloneElement(t,{ref:r})}function de(n,t,o){var r=e.useState(n),a=C(r,2),u=a[0],i=a[1],l=e.useState(null),c=C(l,2),s=c[0],f=c[1];return e.useEffect((function(){var e=function(e,n,t){var o,r,a=e.length,u=n.length;if(0===a&&0===u)return null;a<u?(o=e,r=n):(o=n,r=e);var i={__EMPTY_ITEM__:!0};function l(e){return void 0!==e?t(e):i}for(var c=null,s=1!==Math.abs(a-u),f=0;f<r.length;f+=1){var d=l(o[f]);if(d!==l(r[f])){c=f,s=s||d!==l(r[f+1]);break}}return null===c?null:{index:c,multiple:s}}(u||[],n||[],t);void 0!==(null==e?void 0:e.index)&&f(n[e.index]),i(n)}),[n]),[s]}se.displayName="Filler";var ve="object"===("undefined"==typeof navigator?"undefined":S(navigator))&&/Firefox/i.test(navigator.userAgent);const pe=function(n,t,o,r){var a=e.useRef(!1),u=e.useRef(null);var i=e.useRef({top:n,bottom:t,left:o,right:r});return i.current.top=n,i.current.bottom=t,i.current.left=o,i.current.right=r,function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e?n<0&&i.current.left||n>0&&i.current.right:n<0&&i.current.top||n>0&&i.current.bottom;return t&&o?(clearTimeout(u.current),a.current=!1):o&&!a.current||(clearTimeout(u.current),a.current=!0,u.current=setTimeout((function(){a.current=!1}),50)),!a.current&&o}};function me(n,t,o,r,a,u,i){var l=e.useRef(0),c=e.useRef(null),s=e.useRef(null),f=e.useRef(!1),v=pe(t,o,r,a);var p=e.useRef(null),m=e.useRef(null);return[function(e){if(n){d.cancel(m.current),m.current=d((function(){p.current=null}),2);var t=e.deltaX,o=e.deltaY,r=e.shiftKey,a=t,h=o;("sx"===p.current||!p.current&&r&&o&&!t)&&(a=o,h=0,p.current="sx");var g=Math.abs(a),b=Math.abs(h);null===p.current&&(p.current=u&&g>b?"x":"y"),"y"===p.current?function(e,n){if(d.cancel(c.current),!v(!1,n)){var t=e;t._virtualHandled||(t._virtualHandled=!0,l.current+=n,s.current=n,ve||t.preventDefault(),c.current=d((function(){var e=f.current?10:1;i(l.current*e,!1),l.current=0})))}}(e,h):function(e,n){i(n,!0),ve||e.preventDefault()}(e,a)}},function(e){n&&(f.current=e.detail===s.current)}]}var he=function(){function e(){P(this,e),M(this,"maps",void 0),M(this,"id",0),M(this,"diffRecords",new Map),this.maps=Object.create(null)}return T(e,[{key:"set",value:function(e,n){this.diffRecords.set(e,this.maps[e]),this.maps[e]=n,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}},{key:"resetRecord",value:function(){this.diffRecords.clear()}},{key:"getRecord",value:function(){return this.diffRecords}}]),e}();function ge(e){var n=parseFloat(e);return isNaN(n)?0:n}var be=14/15;function we(e){return Math.floor(Math.pow(e,.5))}function ye(e,n){return("touches"in e?e.touches[0]:e)[n?"pageX":"pageY"]-window[n?"scrollX":"scrollY"]}var Ee=e.forwardRef((function(n,t){var o=n.prefixCls,r=n.rtl,a=n.scrollOffset,u=n.scrollRange,i=n.onStartMove,l=n.onStopMove,c=n.onScroll,s=n.horizontal,f=n.spinSize,v=n.containerSize,p=n.style,m=n.thumbStyle,h=n.showScrollBar,g=e.useState(!1),w=C(g,2),y=w[0],E=w[1],S=e.useState(null),x=C(S,2),I=x[0],N=x[1],D=e.useState(null),T=C(D,2),P=T[0],k=T[1],O=!r,L=e.useRef(),V=e.useRef(),A=e.useState(h),F=C(A,2),H=F[0],z=F[1],_=e.useRef(),K=function(){!0!==h&&!1!==h&&(clearTimeout(_.current),z(!0),_.current=setTimeout((function(){z(!1)}),3e3))},j=u-v||0,B=v-f||0,W=e.useMemo((function(){return 0===a||0===j?0:a/j*B}),[a,j,B]),Y=e.useRef({top:W,dragging:y,pageY:I,startTop:P});Y.current={top:W,dragging:y,pageY:I,startTop:P};var X=function(e){E(!0),N(ye(e,s)),k(Y.current.top),i(),e.stopPropagation(),e.preventDefault()};e.useEffect((function(){var e=function(e){e.preventDefault()},n=L.current,t=V.current;return n.addEventListener("touchstart",e,{passive:!1}),t.addEventListener("touchstart",X,{passive:!1}),function(){n.removeEventListener("touchstart",e),t.removeEventListener("touchstart",X)}}),[]);var U=e.useRef();U.current=j;var G=e.useRef();G.current=B,e.useEffect((function(){if(y){var e,n=function(n){var t=Y.current,o=t.dragging,r=t.pageY,a=t.startTop;d.cancel(e);var u=L.current.getBoundingClientRect(),i=v/(s?u.width:u.height);if(o){var l=(ye(n,s)-r)*i,f=a;!O&&s?f-=l:f+=l;var p=U.current,m=G.current,h=m?f/m:0,g=Math.ceil(h*p);g=Math.max(g,0),g=Math.min(g,p),e=d((function(){c(g,s)}))}},t=function(){E(!1),l()};return window.addEventListener("mousemove",n,{passive:!0}),window.addEventListener("touchmove",n,{passive:!0}),window.addEventListener("mouseup",t,{passive:!0}),window.addEventListener("touchend",t,{passive:!0}),function(){window.removeEventListener("mousemove",n),window.removeEventListener("touchmove",n),window.removeEventListener("mouseup",t),window.removeEventListener("touchend",t),d.cancel(e)}}}),[y]),e.useEffect((function(){return K(),function(){clearTimeout(_.current)}}),[a]),e.useImperativeHandle(t,(function(){return{delayHidden:K}}));var q="".concat(o,"-scrollbar"),J={position:"absolute",visibility:H?null:"hidden"},Q={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return s?(J.height=8,J.left=0,J.right=0,J.bottom=0,Q.height="100%",Q.width=f,O?Q.left=W:Q.right=W):(J.width=8,J.top=0,J.bottom=0,O?J.right=0:J.left=0,Q.width="100%",Q.height=f,Q.top=W),e.createElement("div",{ref:L,className:b(q,M(M(M({},"".concat(q,"-horizontal"),s),"".concat(q,"-vertical"),!s),"".concat(q,"-visible"),H)),style:R(R({},J),p),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:K},e.createElement("div",{ref:V,className:b("".concat(q,"-thumb"),M({},"".concat(q,"-thumb-moving"),y)),style:R(R({},Q),m),onMouseDown:X}))}));function Se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(n)&&(n=0),n=Math.max(n,20),Math.floor(n)}var Ce=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],xe=[],Re={overflowY:"auto",overflowAnchor:"none"};function Me(n,t){var o=n.prefixCls,r=void 0===o?"rc-virtual-list":o,a=n.className,u=n.height,i=n.itemHeight,l=n.fullHeight,c=void 0===l||l,f=n.style,p=n.data,m=n.children,h=n.itemKey,g=n.virtual,w=n.direction,N=n.scrollWidth,D=n.component,T=void 0===D?"div":D,P=n.onScroll,k=n.onVirtualScroll,O=n.onVisibleChange,L=n.innerProps,V=n.extraRender,A=n.styles,F=n.showScrollBar,H=void 0===F?"optional":F,z=x(n,Ce),_=e.useCallback((function(e){return"function"==typeof h?h(e):null==e?void 0:e[h]}),[h]),K=function(n){var t=e.useState(0),o=C(t,2),r=o[0],a=o[1],u=e.useRef(new Map),i=e.useRef(new he),l=e.useRef(0);function c(){l.current+=1}function s(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];c();var n=function(){var e=!1;u.current.forEach((function(n,t){if(n&&n.offsetParent){var o=n.offsetHeight,r=getComputedStyle(n),a=r.marginTop,u=r.marginBottom,l=o+ge(a)+ge(u);i.current.get(t)!==l&&(i.current.set(t,l),e=!0)}})),e&&a((function(e){return e+1}))};if(e)n();else{l.current+=1;var t=l.current;Promise.resolve().then((function(){t===l.current&&n()}))}}return e.useEffect((function(){return c}),[]),[function(e,t){var o=n(e);u.current.get(o),t?(u.current.set(o,t),s()):u.current.delete(o)},s,i.current,r]}(_),j=C(K,4),B=j[0],W=j[1],Y=j[2],X=j[3],U=!(!1===g||!u||!i),G=e.useMemo((function(){return Object.values(Y.maps).reduce((function(e,n){return e+n}),0)}),[Y.id,Y.maps]),q=U&&p&&(Math.max(i*p.length,G)>u||!!N),J="rtl"===w,Q=b(r,M({},"".concat(r,"-rtl"),J),a),$=p||xe,Z=e.useRef(),ee=e.useRef(),ne=e.useRef(),te=e.useState(0),oe=C(te,2),re=oe[0],ae=oe[1],ue=e.useState(0),ie=C(ue,2),le=ie[0],ce=ie[1],ve=e.useState(!1),Me=C(ve,2),Ie=Me[0],Ne=Me[1],De=function(){Ne(!0)},Te=function(){Ne(!1)},Pe={getKey:_};function ke(e){ae((function(n){var t=function(e){var n=e;Number.isNaN(Qe.current)||(n=Math.min(n,Qe.current));return n=Math.max(n,0),n}("function"==typeof e?e(n):e);return Z.current.scrollTop=t,t}))}var Oe=e.useRef({start:0,end:$.length}),Le=e.useRef(),Ve=de($,_),Ae=C(Ve,1)[0];Le.current=Ae;var Fe=e.useMemo((function(){if(!U)return{scrollHeight:void 0,start:0,end:$.length-1,offset:void 0};var e;if(!q)return{scrollHeight:(null===(e=ee.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:$.length-1,offset:void 0};for(var n,t,o,r=0,a=$.length,l=0;l<a;l+=1){var c=$[l],s=_(c),f=Y.get(s),d=r+(void 0===f?i:f);d>=re&&void 0===n&&(n=l,t=r),d>re+u&&void 0===o&&(o=l),r=d}return void 0===n&&(n=0,t=0,o=Math.ceil(u/i)),void 0===o&&(o=$.length-1),{scrollHeight:r,start:n,end:o=Math.min(o+1,$.length-1),offset:t}}),[q,U,re,$,X,u]),He=Fe.scrollHeight,ze=Fe.start,_e=Fe.end,Ke=Fe.offset;Oe.current.start=ze,Oe.current.end=_e,e.useLayoutEffect((function(){var e=Y.getRecord();if(1===e.size){var n=Array.from(e.keys())[0],t=e.get(n),o=$[ze];if(o&&void 0===t)if(_(o)===n){var r=Y.get(n)-i;ke((function(e){return e+r}))}}Y.resetRecord()}),[He]);var je=e.useState({width:0,height:u}),Be=C(je,2),We=Be[0],Ye=Be[1],Xe=e.useRef(),Ue=e.useRef(),Ge=e.useMemo((function(){return Se(We.width,N)}),[We.width,N]),qe=e.useMemo((function(){return Se(We.height,He)}),[We.height,He]),Je=He-u,Qe=e.useRef(Je);Qe.current=Je;var $e=re<=0,Ze=re>=Je,en=le<=0,nn=le>=N,tn=pe($e,Ze,en,nn),on=function(){return{x:J?-le:le,y:re}},rn=e.useRef(on()),an=v((function(e){if(k){var n=R(R({},on()),e);rn.current.x===n.x&&rn.current.y===n.y||(k(n),rn.current=n)}}));function un(e,n){var t=e;n?(y.flushSync((function(){ce(t)})),an()):ke(t)}var ln=function(e){var n=e,t=N?N-We.width:0;return n=Math.max(n,0),n=Math.min(n,t)},cn=v((function(e,n){n?(y.flushSync((function(){ce((function(n){return ln(n+(J?-e:e))}))})),an()):ke((function(n){return n+e}))})),sn=me(U,$e,Ze,en,nn,!!N,cn),fn=C(sn,2),dn=fn[0],vn=fn[1];!function(n,t,o){var r,a=e.useRef(!1),u=e.useRef(0),i=e.useRef(0),l=e.useRef(null),c=e.useRef(null),f=function(e){if(a.current){var n=Math.ceil(e.touches[0].pageX),t=Math.ceil(e.touches[0].pageY),r=u.current-n,l=i.current-t,s=Math.abs(r)>Math.abs(l);s?u.current=n:i.current=t;var f=o(s,s?r:l,!1,e);f&&e.preventDefault(),clearInterval(c.current),f&&(c.current=setInterval((function(){s?r*=be:l*=be;var e=Math.floor(s?r:l);(!o(s,e,!0)||Math.abs(e)<=.1)&&clearInterval(c.current)}),16))}},d=function(){a.current=!1,r()},v=function(e){r(),1!==e.touches.length||a.current||(a.current=!0,u.current=Math.ceil(e.touches[0].pageX),i.current=Math.ceil(e.touches[0].pageY),l.current=e.target,l.current.addEventListener("touchmove",f,{passive:!1}),l.current.addEventListener("touchend",d,{passive:!0}))};r=function(){l.current&&(l.current.removeEventListener("touchmove",f),l.current.removeEventListener("touchend",d))},s((function(){return n&&t.current.addEventListener("touchstart",v,{passive:!0}),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",v),r(),clearInterval(c.current)}}),[n])}(U,Z,(function(e,n,t,o){var r=o;return!tn(e,n,t)&&((!r||!r._virtualHandled)&&(r&&(r._virtualHandled=!0),dn({preventDefault:function(){},deltaX:e?n:0,deltaY:e?0:n}),!0))})),function(n,t,o){e.useEffect((function(){var e=t.current;if(n&&e){var r,a,u=!1,i=function(){d.cancel(r)},l=function e(){i(),r=d((function(){o(a),e()}))},c=function(e){if(!e.target.draggable&&0===e.button){var n=e;n._virtualHandled||(n._virtualHandled=!0,u=!0)}},s=function(){u=!1,i()},f=function(n){if(u){var t=ye(n,!1),o=e.getBoundingClientRect(),r=o.top,c=o.bottom;t<=r?(a=-we(r-t),l()):t>=c?(a=we(t-c),l()):i()}};return e.addEventListener("mousedown",c),e.ownerDocument.addEventListener("mouseup",s),e.ownerDocument.addEventListener("mousemove",f),function(){e.removeEventListener("mousedown",c),e.ownerDocument.removeEventListener("mouseup",s),e.ownerDocument.removeEventListener("mousemove",f),i()}}}),[n])}(q,Z,(function(e){ke((function(n){return n+e}))})),s((function(){function e(e){var n=$e&&e.detail<0,t=Ze&&e.detail>0;!U||n||t||e.preventDefault()}var n=Z.current;return n.addEventListener("wheel",dn,{passive:!1}),n.addEventListener("DOMMouseScroll",vn,{passive:!0}),n.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){n.removeEventListener("wheel",dn),n.removeEventListener("DOMMouseScroll",vn),n.removeEventListener("MozMousePixelScroll",e)}}),[U,$e,Ze]),s((function(){if(N){var e=ln(le);ce(e),an({x:e})}}),[We.width,N]);var pn=function(){var e,n;null===(e=Xe.current)||void 0===e||e.delayHidden(),null===(n=Ue.current)||void 0===n||n.delayHidden()},mn=function(n,t,o,r,a,u,i,l){var c=e.useRef(),f=e.useState(null),v=C(f,2),p=v[0],m=v[1];return s((function(){if(p&&p.times<10){if(!n.current)return void m((function(e){return R({},e)}));u();var e=p.targetAlign,l=p.originAlign,c=p.index,s=p.offset,f=n.current.clientHeight,d=!1,v=e,h=null;if(f){for(var g=e||l,b=0,w=0,y=0,E=Math.min(t.length-1,c),S=0;S<=E;S+=1){var C=a(t[S]);w=b;var x=o.get(C);b=y=w+(void 0===x?r:x)}for(var M="top"===g?s:f-s,I=E;I>=0;I-=1){var N=a(t[I]),D=o.get(N);if(void 0===D){d=!0;break}if((M-=D)<=0)break}switch(g){case"top":h=w-s;break;case"bottom":h=y-f+s;break;default:var T=n.current.scrollTop;w<T?v="top":y>T+f&&(v="bottom")}null!==h&&i(h),h!==p.lastTop&&(d=!0)}d&&m(R(R({},p),{},{times:p.times+1,targetAlign:v,lastTop:h}))}}),[p,n.current]),function(e){if(null!=e){if(d.cancel(c.current),"number"==typeof e)i(e);else if(e&&"object"===S(e)){var n,o=e.align;n="index"in e?e.index:t.findIndex((function(n){return a(n)===e.key}));var r=e.offset;m({times:0,index:n,offset:void 0===r?0:r,originAlign:o})}}else l()}}(Z,$,Y,i,_,(function(){return W(!0)}),ke,pn);e.useImperativeHandle(t,(function(){return{nativeElement:ne.current,getScrollInfo:on,scrollTo:function(e){var n;(n=e)&&"object"===S(n)&&("left"in n||"top"in n)?(void 0!==e.left&&ce(ln(e.left)),mn(e.top)):mn(e)}}})),s((function(){if(O){var e=$.slice(ze,_e+1);O(e,$)}}),[ze,_e,$]);var hn=function(n,t,o,r){var a=e.useMemo((function(){return[new Map,[]]}),[n,o.id,r]),u=C(a,2),i=u[0],l=u[1];return function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,u=i.get(e),c=i.get(a);if(void 0===u||void 0===c)for(var s=n.length,f=l.length;f<s;f+=1){var d,v=n[f],p=t(v);i.set(p,f);var m=null!==(d=o.get(p))&&void 0!==d?d:r;if(l[f]=(l[f-1]||0)+m,p===e&&(u=f),p===a&&(c=f),void 0!==u&&void 0!==c)break}return{top:l[u-1]||0,bottom:l[c]}}}($,_,Y,i),gn=null==V?void 0:V({start:ze,end:_e,virtual:q,offsetX:le,offsetY:Ke,rtl:J,getSize:hn}),bn=function(n,t,o,r,a,u,i,l){var c=l.getKey;return n.slice(t,o+1).map((function(n,o){var l=i(n,t+o,{style:{width:r},offsetX:a}),s=c(n);return e.createElement(fe,{key:s,setRef:function(e){return u(n,e)}},l)}))}($,ze,_e,N,le,B,m,Pe),wn=null;u&&(wn=R(M({},c?"height":"maxHeight",u),Re),U&&(wn.overflowY="hidden",N&&(wn.overflowX="hidden"),Ie&&(wn.pointerEvents="none")));var yn={};return J&&(yn.dir="rtl"),e.createElement("div",I({ref:ne,style:R(R({},f),{},{position:"relative"}),className:Q},yn,z),e.createElement(E,{onResize:function(e){Ye({width:e.offsetWidth,height:e.offsetHeight})}},e.createElement(T,{className:"".concat(r,"-holder"),style:wn,ref:Z,onScroll:function(e){var n=e.currentTarget.scrollTop;n!==re&&ke(n),null==P||P(e),an()},onMouseEnter:pn},e.createElement(se,{prefixCls:r,height:He,offsetX:le,offsetY:Ke,scrollWidth:N,onInnerResize:W,ref:ee,innerProps:L,rtl:J,extra:gn},bn))),q&&He>u&&e.createElement(Ee,{ref:Xe,prefixCls:r,scrollOffset:re,scrollRange:He,rtl:J,onScroll:un,onStartMove:De,onStopMove:Te,spinSize:qe,containerSize:We.height,style:null==A?void 0:A.verticalScrollBar,thumbStyle:null==A?void 0:A.verticalScrollBarThumb,showScrollBar:H}),q&&N>We.width&&e.createElement(Ee,{ref:Ue,prefixCls:r,scrollOffset:le,scrollRange:N,rtl:J,onScroll:un,onStartMove:De,onStopMove:Te,spinSize:Ge,containerSize:We.width,horizontal:!0,style:null==A?void 0:A.horizontalScrollBar,thumbStyle:null==A?void 0:A.horizontalScrollBarThumb,showScrollBar:H}))}var Ie=e.forwardRef(Me);Ie.displayName="List";var Ne=["disabled","title","children","style","className"];function De(e){return"string"==typeof e||"number"==typeof e}var Te=function(n,o){var r=e.useContext(L),a=r.prefixCls,i=r.id,l=r.open,c=r.multiple,s=r.mode,f=r.searchValue,d=r.toggleOpen,v=r.notFoundContent,h=r.onPopupScroll,g=e.useContext(te),w=g.maxCount,y=g.flattenOptions,E=g.onActiveValue,S=g.defaultActiveFirstOption,R=g.onSelect,N=g.menuItemSelectedIcon,T=g.rawValues,P=g.fieldNames,k=g.virtual,V=g.direction,A=g.listHeight,F=g.listItemHeight,H=g.optionRender,z="".concat(a,"-item"),_=p((function(){return y}),[l,y],(function(e,n){return n[0]&&e[1]!==n[1]})),K=e.useRef(null),j=e.useMemo((function(){return c&&Z(w)&&(null==T?void 0:T.size)>=w}),[c,w,null==T?void 0:T.size]),B=function(e){e.preventDefault()},W=function(e){var n;null===(n=K.current)||void 0===n||n.scrollTo("number"==typeof e?{index:e}:e)},Y=e.useCallback((function(e){return"combobox"!==s&&T.has(e)}),[s,D(T).toString(),T.size]),X=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=_.length,o=0;o<t;o+=1){var r=(e+o*n+t)%t,a=_[r]||{},u=a.group,i=a.data;if(!u&&(null==i||!i.disabled)&&(Y(i.value)||!j))return r}return-1},U=e.useState((function(){return X(0)})),G=C(U,2),q=G[0],J=G[1],Q=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];J(e);var t={source:n?"keyboard":"mouse"},o=_[e];o?E(o.value,e,t):E(null,-1,t)};e.useEffect((function(){Q(!1!==S?X(0):-1)}),[_.length,f]);var $=e.useCallback((function(e){return"combobox"===s?String(e).toLowerCase()===f.toLowerCase():T.has(e)}),[s,f,D(T).toString(),T.size]);e.useEffect((function(){var e,n=setTimeout((function(){if(!c&&l&&1===T.size){var e=Array.from(T)[0],n=_.findIndex((function(n){var t=n.data;return f?String(t.value).startsWith(f):t.value===e}));-1!==n&&(Q(n),W(n))}}));l&&(null===(e=K.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(n)}}),[l,f]);var ee=function(e){void 0!==e&&R(e,{selected:!T.has(e)}),c||d(!1)};if(e.useImperativeHandle(o,(function(){return{onKeyDown:function(e){var n=e.which,o=e.ctrlKey;switch(n){case t.N:case t.P:case t.UP:case t.DOWN:var r=0;if(n===t.UP?r=-1:n===t.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&o&&(n===t.N?r=1:n===t.P&&(r=-1)),0!==r){var a=X(q+r,r);W(a),Q(a,!0)}break;case t.TAB:case t.ENTER:var u,i=_[q];!i||null!=i&&null!==(u=i.data)&&void 0!==u&&u.disabled||j?ee(void 0):ee(i.value),l&&e.preventDefault();break;case t.ESC:d(!1),l&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){W(e)}}})),0===_.length)return e.createElement("div",{role:"listbox",id:"".concat(i,"_list"),className:"".concat(z,"-empty"),onMouseDown:B},v);var ne=Object.keys(P).map((function(e){return P[e]})),oe=function(e){return e.label};function re(e,n){return{role:e.group?"presentation":"option",id:"".concat(i,"_list_").concat(n)}}var ae=function(n){var t=_[n];if(!t)return null;var o=t.data||{},r=o.value,a=t.group,i=u(o,!0),l=oe(t);return t?e.createElement("div",I({"aria-label":"string"!=typeof l||a?null:l},i,{key:n},re(t,n),{"aria-selected":$(r)}),r):null},ue={role:"listbox",id:"".concat(i,"_list")};return e.createElement(e.Fragment,null,k&&e.createElement("div",I({},ue,{style:{height:0,width:0,overflow:"hidden"}}),ae(q-1),ae(q),ae(q+1)),e.createElement(Ie,{itemKey:"key",ref:K,data:_,height:A,itemHeight:F,fullHeight:!1,onMouseDown:B,onScroll:h,virtual:k,direction:V,innerProps:k?null:ue},(function(n,t){var o=n.group,r=n.groupOption,a=n.data,i=n.label,l=n.value,c=a.key;if(o){var s,f=null!==(s=a.title)&&void 0!==s?s:De(i)?i.toString():void 0;return e.createElement("div",{className:b(z,"".concat(z,"-group"),a.className),title:f},void 0!==i?i:c)}var d=a.disabled,v=a.title;a.children;var p=a.style,h=a.className,g=x(a,Ne),w=m(g,ne),y=Y(l),E=d||!y&&j,S="".concat(z,"-option"),C=b(z,S,h,M(M(M(M({},"".concat(S,"-grouped"),r),"".concat(S,"-active"),q===t&&!E),"".concat(S,"-disabled"),E),"".concat(S,"-selected"),y)),R=oe(n),D=!N||"function"==typeof N||y,T="number"==typeof R?R:R||l,P=De(T)?T.toString():void 0;return void 0!==v&&(P=v),e.createElement("div",I({},u(w),k?{}:re(n,t),{"aria-selected":$(l),className:C,title:P,onMouseMove:function(){q===t||E||Q(t)},onClick:function(){E||ee(l)},style:p}),e.createElement("div",{className:"".concat(S,"-content")},"function"==typeof H?H(n,{index:t}):T),e.isValidElement(N)||y,D&&e.createElement(O,{className:"".concat(z,"-option-state"),customizeIcon:N,customizeIconProps:{value:l,disabled:E,isSelected:y}},y?"✓":null))})))},Pe=e.forwardRef(Te);function ke(e,n){return z(e).join("").toUpperCase().includes(n)}var Oe=0,Le=h();function Ve(n){var t=e.useState(),o=C(t,2),r=o[0],a=o[1];return e.useEffect((function(){var e;a("rc_select_".concat((Le?(e=Oe,Oe+=1):e="TEST_OR_SSR",e)))}),[]),n||r}var Ae=["children","value"],Fe=["children"];function He(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return g(n).map((function(n,o){if(!e.isValidElement(n)||!n.type)return null;var r=n,a=r.type.isSelectOptGroup,u=r.key,i=r.props,l=i.children,c=x(i,Fe);return t||!a?function(e){var n=e,t=n.key,o=n.props,r=o.children,a=o.value,u=x(o,Ae);return R({key:t,value:void 0!==a?a:t,children:r},u)}(n):R(R({key:"__RC_SELECT_GRP__".concat(null===u?o:u,"__"),label:u},c),{},{options:He(l)})})).filter((function(e){return e}))}function ze(n){var t=e.useRef();t.current=n;var o=e.useCallback((function(){return t.current.apply(t,arguments)}),[]);return o}var _e=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],Ke=["inputValue"];var je=e.forwardRef((function(n,t){var o=n.id,r=n.mode,a=n.prefixCls,u=void 0===a?"rc-select":a,i=n.backfill,l=n.fieldNames,c=n.inputValue,s=n.searchValue,d=n.onSearch,v=n.autoClearSearchValue,p=void 0===v||v,m=n.onSelect,h=n.onDeselect,g=n.dropdownMatchSelectWidth,b=void 0===g||g,w=n.filterOption,y=n.filterSort,E=n.optionFilterProp,N=n.optionLabelProp,T=n.options,P=n.optionRender,k=n.children,O=n.defaultActiveFirstOption,L=n.menuItemSelectedIcon,V=n.virtual,A=n.direction,F=n.listHeight,H=void 0===F?200:F,_=n.listItemHeight,K=void 0===_?20:_,j=n.labelRender,B=n.value,W=n.defaultValue,Y=n.labelInValue,X=n.onChange,U=n.maxCount,G=x(n,_e),q=Ve(o),J=ue(r),Q=!(T||!k),Z=e.useMemo((function(){return(void 0!==w||"combobox"!==r)&&w}),[w,r]),oe=e.useMemo((function(){return ee(l,Q)}),[JSON.stringify(l),Q]),re=f("",{value:void 0!==s?s:c,postState:function(e){return e||""}}),ae=C(re,2),le=ae[0],ce=ae[1],se=function(n,t,o,r,a){return e.useMemo((function(){var e=n;!n&&(e=He(t));var u=new Map,i=new Map,l=function(e,n,t){t&&"string"==typeof t&&e.set(n[t],n)};return function e(n){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=0;c<n.length;c+=1){var s=n[c];!s[o.options]||t?(u.set(s[o.value],s),l(i,s,o.label),l(i,s,r),l(i,s,a)):e(s[o.options],!0)}}(e),{options:e,valueOptions:u,labelOptions:i}}),[n,t,o,r,a])}(T,k,oe,E,N),fe=se.valueOptions,de=se.labelOptions,ve=se.options,pe=e.useCallback((function(e){return z(e).map((function(e){var n,t,o,r,a,u;(function(e){return!e||"object"!==S(e)})(e)?n=e:(o=e.key,t=e.label,n=null!==(u=e.value)&&void 0!==u?u:o);var i,l=fe.get(n);l&&(void 0===t&&(t=null==l?void 0:l[N||oe.label]),void 0===o&&(o=null!==(i=null==l?void 0:l.key)&&void 0!==i?i:n),r=null==l?void 0:l.disabled,a=null==l?void 0:l.title);return{label:t,value:n,key:o,disabled:r,title:a}}))}),[oe,N,fe]),me=f(W,{value:B}),he=C(me,2),ge=he[0],be=he[1],we=e.useMemo((function(){var e,n=pe(J&&null===ge?[]:ge);return"combobox"===r&&function(e){return!e&&0!==e}(null===(e=n[0])||void 0===e?void 0:e.value)?[]:n}),[ge,pe,r,J]),ye=function(n,t){var o=e.useRef({values:new Map,options:new Map});return[e.useMemo((function(){var e=o.current,r=e.values,a=e.options,u=n.map((function(e){var n;return void 0===e.label?R(R({},e),{},{label:null===(n=r.get(e.value))||void 0===n?void 0:n.label}):e})),i=new Map,l=new Map;return u.forEach((function(e){i.set(e.value,e),l.set(e.value,t.get(e.value)||a.get(e.value))})),o.current.values=i,o.current.options=l,u}),[n,t]),e.useCallback((function(e){return t.get(e)||o.current.options.get(e)}),[t])]}(we,fe),Ee=C(ye,2),Se=Ee[0],Ce=Ee[1],xe=e.useMemo((function(){if(!r&&1===Se.length){var e=Se[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return Se.map((function(e){var n;return R(R({},e),{},{label:null!==(n="function"==typeof j?j(e):e.label)&&void 0!==n?n:e.value})}))}),[r,Se,j]),Re=e.useMemo((function(){return new Set(Se.map((function(e){return e.value})))}),[Se]);e.useEffect((function(){if("combobox"===r){var e,n=null===(e=Se[0])||void 0===e?void 0:e.value;ce(function(e){return null!=e}(n)?String(n):"")}}),[Se]);var Me=ze((function(e,n){var t=null!=n?n:e;return M(M({},oe.value,e),oe.label,t)})),Ie=function(n,t,o,r,a){return e.useMemo((function(){if(!o||!1===r)return n;var e=t.options,u=t.label,i=t.value,l=[],c="function"==typeof r,s=o.toUpperCase(),f=c?r:function(n,t){return a?ke(t[a],s):t[e]?ke(t["children"!==u?u:"label"],s):ke(t[i],s)},d=c?function(e){return ne(e)}:function(e){return e};return n.forEach((function(n){if(n[e])if(f(o,d(n)))l.push(n);else{var t=n[e].filter((function(e){return f(o,d(e))}));t.length&&l.push(R(R({},n),{},M({},e,t)))}else f(o,d(n))&&l.push(n)})),l}),[n,r,a,o,t])}(e.useMemo((function(){if("tags"!==r)return ve;var e=D(ve);return D(Se).sort((function(e,n){return e.value<n.value?-1:1})).forEach((function(n){var t=n.value;(function(e){return fe.has(e)})(t)||e.push(Me(t,n.label))})),e}),[Me,ve,fe,Se,r]),oe,le,Z,E),Ne=e.useMemo((function(){return"tags"!==r||!le||Ie.some((function(e){return e[E||"value"]===le}))||Ie.some((function(e){return e[oe.value]===le}))?Ie:[Me(le)].concat(D(Ie))}),[Me,E,r,Ie,le,oe]),De=function e(n){return D(n).sort((function(e,n){return y(e,n,{searchValue:le})})).map((function(n){return Array.isArray(n.options)?R(R({},n),{},{options:n.options.length>0?e(n.options):n.options}):n}))},Te=e.useMemo((function(){return y?De(Ne):Ne}),[Ne,y,le]),Oe=e.useMemo((function(){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.fieldNames,o=n.childrenAsData,r=[],a=ee(t,!1),u=a.label,i=a.value,l=a.options,c=a.groupLabel;return function e(n,t){Array.isArray(n)&&n.forEach((function(n){if(t||!(l in n)){var a=n[i];r.push({key:$(n,r.length),groupOption:t,data:n,label:n[u],value:a})}else{var s=n[c];void 0===s&&o&&(s=n.label),r.push({key:$(n,r.length),group:!0,data:n,label:s}),e(n[l],!0)}}))}(e,!1),r}(Te,{fieldNames:oe,childrenAsData:Q})}),[Te,oe,Q]),Le=function(e){var n=pe(e);if(be(n),X&&(n.length!==Se.length||n.some((function(e,n){var t;return(null===(t=Se[n])||void 0===t?void 0:t.value)!==(null==e?void 0:e.value)})))){var t=Y?n:n.map((function(e){return e.value})),o=n.map((function(e){return ne(Ce(e.value))}));X(J?t:t[0],J?o:o[0])}},Ae=e.useState(null),Fe=C(Ae,2),je=Fe[0],Be=Fe[1],We=e.useState(0),Ye=C(We,2),Xe=Ye[0],Ue=Ye[1],Ge=void 0!==O?O:"combobox"!==r,qe=e.useCallback((function(e,n){var t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).source,o=void 0===t?"keyboard":t;Ue(n),i&&"combobox"===r&&null!==e&&"keyboard"===o&&Be(String(e))}),[i,r]),Je=function(e,n,t){var o=function(){var n,t=Ce(e);return[Y?{label:null==t?void 0:t[oe.label],value:e,key:null!==(n=null==t?void 0:t.key)&&void 0!==n?n:e}:e,ne(t)]};if(n&&m){var r=o(),a=C(r,2),u=a[0],i=a[1];m(u,i)}else if(!n&&h&&"clear"!==t){var l=o(),c=C(l,2),s=c[0],f=c[1];h(s,f)}},Qe=ze((function(e,n){var t,o=!J||n.selected;t=o?J?[].concat(D(Se),[e]):[e]:Se.filter((function(n){return n.value!==e})),Le(t),Je(e,o),"combobox"===r?Be(""):ue&&!p||(ce(""),Be(""))})),$e=e.useMemo((function(){var e=!1!==V&&!1!==b;return R(R({},se),{},{flattenOptions:Oe,onActiveValue:qe,defaultActiveFirstOption:Ge,onSelect:Qe,menuItemSelectedIcon:L,rawValues:Re,fieldNames:oe,virtual:e,direction:A,listHeight:H,listItemHeight:K,childrenAsData:Q,maxCount:U,optionRender:P})}),[U,se,Oe,qe,Ge,Qe,L,Re,oe,V,b,A,H,K,Q,P]);return e.createElement(te.Provider,{value:$e},e.createElement(ie,I({},G,{id:q,prefixCls:u,ref:t,omitDomProps:Ke,mode:r,displayValues:xe,onDisplayValuesChange:function(e,n){Le(e);var t=n.type,o=n.values;"remove"!==t&&"clear"!==t||o.forEach((function(e){Je(e.value,!1,t)}))},direction:A,searchValue:le,onSearch:function(e,n){if(ce(e),Be(null),"submit"!==n.source)"blur"!==n.source&&("combobox"===r&&Le(e),null==d||d(e));else{var t=(e||"").trim();if(t){var o=Array.from(new Set([].concat(D(Re),[t])));Le(o),Je(t,!0),ce("")}}},autoClearSearchValue:p,onSearchSplit:function(e){var n=e;"tags"!==r&&(n=e.map((function(e){var n=de.get(e);return null==n?void 0:n.value})).filter((function(e){return void 0!==e})));var t=Array.from(new Set([].concat(D(Re),D(n))));Le(t),t.forEach((function(e){Je(e,!0)}))},dropdownMatchSelectWidth:b,OptionList:Pe,emptyOptions:!Oe.length,activeValue:je,activeDescendantId:"".concat(q,"_list_").concat(Xe)})))}));je.Option=ce,je.OptGroup=le;export{ce as O,je as T,le as a};
