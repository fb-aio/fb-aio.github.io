import{r as e}from"./BqUCZHEx.js";import{d as t}from"./De0BBq3v.js";var n="undefined"!=typeof window?e.useLayoutEffect:e.useEffect;function r(t,r){const i=e.useRef(t);n((()=>{i.current=t}),[t]),e.useEffect((()=>{if(null===r)return;const e=setInterval((()=>{i.current()}),r);return()=>{clearInterval(e)}}),[r])}function i(n,r=500,i){const s=e.useRef();!function(t){const n=e.useRef(t);n.current=t,e.useEffect((()=>()=>{n.current()}),[])}((()=>{s.current&&s.current.cancel()}));const c=e.useMemo((()=>{const e=t(n,r,i),c=(...t)=>e(...t);return c.cancel=()=>{e.cancel()},c.isPending=()=>!!s.current,c.flush=()=>e.flush(),c}),[n,r,i]);return e.useEffect((()=>{s.current=t(n,r,i)}),[n,r,i]),c}function s({threshold:t=0,root:n=null,rootMargin:r="0%",freezeOnceVisible:i=!1,initialIsIntersecting:s=!1,onChange:c}={}){var o;const[u,f]=e.useState(null),[a,d]=e.useState((()=>({isIntersecting:s,entry:void 0}))),l=e.useRef();l.current=c;const h=(null==(o=a.entry)?void 0:o.isIntersecting)&&i;e.useEffect((()=>{if(!u)return;if(!("IntersectionObserver"in window))return;if(h)return;const e=new IntersectionObserver((t=>{const n=Array.isArray(e.thresholds)?e.thresholds:[e.thresholds];t.forEach((e=>{const t=e.isIntersecting&&n.some((t=>e.intersectionRatio>=t));d({isIntersecting:t,entry:e}),l.current&&l.current(t,e)}))}),{threshold:t,root:n,rootMargin:r});return e.observe(u),()=>{e.disconnect()}}),[u,JSON.stringify(t),n,r,h,i]);const g=e.useRef(null);e.useEffect((()=>{var e;u||!(null==(e=a.entry)?void 0:e.target)||i||h||g.current===a.entry.target||(g.current=a.entry.target,d({isIntersecting:s,entry:void 0}))}),[u,a.entry,i,h,s]);const w=[f,!!a.isIntersecting,a.entry];return w.ref=w[0],w.isIntersecting=w[1],w.entry=w[2],w}var c="undefined"==typeof window;function o(t={}){let{initializeWithValue:r=!0}=t;c&&(r=!1);const[s,o]=e.useState((()=>r?{width:window.innerWidth,height:window.innerHeight}:{width:void 0,height:void 0})),u=i(o,t.debounceDelay);function f(){(t.debounceDelay?u:o)({width:window.innerWidth,height:window.innerHeight})}return function(t,r,i,s){const c=e.useRef(r);n((()=>{c.current=r}),[r]),e.useEffect((()=>{const e=window;if(!e||!e.addEventListener)return;const n=e=>{c.current(e)};return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}),[t,i,s])}("resize",f),n((()=>{f()}),[]),s}export{r as a,o as b,s as c,i as u};
