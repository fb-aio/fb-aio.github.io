import{u as e}from"./Cl3hj7Sz.js";import{r,j as o}from"./BqUCZHEx.js";import{u as t}from"./B70taflM.js";import{r as s}from"./BNILVSWV.js";import{r as i}from"./CDoGh5O_.js";import{V as n}from"./Dmey3k4p.js";import{v as m}from"./l___Ncb5.js";import{t as l}from"./D-WgHNVq.js";import{u as p}from"./BA_i5Yxb.js";import"./Co2HKlK5.js";import"./gCPcOVbC.js";import"./FrdBmAMC.js";import"./DeEdtHJQ.js";import"./zzWXwSIo.js";import"./CklJTzxZ.js";import"./DA7xEauU.js";import"./B0puOfcP.js";import"./C-EXV6yX.js";import"./CzKtq1sx.js";import"./DMWEZ25D.js";import"./DlMIPI_4.js";import"./3k3e5hER.js";import"./eGPrGerr.js";import"./C0I9Fu4n.js";import"./C5RY7NmF.js";import"./DromNf6L.js";import"./U8fstr8o.js";import"./lNgb6jZ6.js";import"./Ce0sibYa.js";import"./BXgSL3CV.js";import"./BvKoXvB0.js";import"./C2hOWUe4.js";import"./DbKNfynz.js";import"./CvSG9YTx.js";import"./Ck87fAyN.js";import"./cDFOP9gi.js";import"./DadG6O39.js";import"./DRIx3C_q.js";import"./CVUg9P9R.js";import"./C03Dth7Y.js";import"./CW4AWbNZ.js";import"./7PIhp50x.js";import"./C5Jwnfs7.js";import"./DIu3lqJt.js";import"./BIQMWFDR.js";import"./C97BfSlU.js";import"./CSLbtjLI.js";import"./Cckil3k8.js";import"./D8_Zmyug.js";import"./DlJMGLAz.js";import"./0h9-8Xae.js";const a=[],d={allowDangerousHtml:!0},u=/^(https?|ircs?|mailto|xmpp)$/i,c=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function f(e){const r=w(e),o=h(e);return y(r.runSync(r.parse(o),o),e)}async function j(e){const r=w(e),o=h(e);return y(await r.run(r.parse(o),o),e)}function g(e){const o=w(e),[t,s]=r.useState(void 0),[i,n]=r.useState(void 0);if(r.useEffect((function(){let r=!1;const t=h(e);return o.run(o.parse(t),t,(function(e,o){r||(s(e),n(o))})),function(){r=!0}}),[e.children,e.rehypePlugins,e.remarkPlugins,e.remarkRehypeOptions]),t)throw t;return i?y(i,e):e.fallback}function w(e){const r=e.rehypePlugins||a,o=e.remarkPlugins||a,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...d}:d;return t().use(s).use(o).use(i,n).use(r)}function h(e){const r=e.children||"",o=new n;return"string"==typeof r&&(o.value=r),o}function y(r,t){const s=t.allowedElements,i=t.allowElement,n=t.components,a=t.disallowedElements,d=t.skipHtml,u=t.unwrapDisallowed,f=t.urlTransform||k;for(const o of c)Object.hasOwn(t,o.from)&&e("Unexpected `"+o.from+"` prop, "+(o.to?"use `"+o.to+"` instead":"remove it")+" (see <https://github.com/remarkjs/react-markdown/blob/main/changelog.md#"+o.id+"> for more info)");return m(r,(function(e,r,o){if("raw"===e.type&&o&&"number"==typeof r)return d?o.children.splice(r,1):o.children[r]={type:"text",value:e.value},r;if("element"===e.type){let r;for(r in p)if(Object.hasOwn(p,r)&&Object.hasOwn(e.properties,r)){const o=e.properties[r],t=p[r];(null===t||t.includes(e.tagName))&&(e.properties[r]=f(String(o||""),r,e))}}if("element"===e.type){let t=s?!s.includes(e.tagName):!!a&&a.includes(e.tagName);if(!t&&i&&"number"==typeof r&&(t=!i(e,r,o)),t&&o&&"number"==typeof r)return u&&e.children?o.children.splice(r,1,...e.children):o.children.splice(r,1),r}})),l(r,{Fragment:o.Fragment,components:n,ignoreInvalidStyle:!0,jsx:o.jsx,jsxs:o.jsxs,passKeys:!0,passNode:!0})}function k(e){const r=e.indexOf(":"),o=e.indexOf("?"),t=e.indexOf("#"),s=e.indexOf("/");return-1===r||-1!==s&&r>s||-1!==o&&r>o||-1!==t&&r>t||u.test(e.slice(0,r))?e:""}export{j as MarkdownAsync,g as MarkdownHooks,f as default,k as defaultUrlTransform};
