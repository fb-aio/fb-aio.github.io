(function(d,e){const G=b,f=d();while(!![]){try{const g=-parseInt(G(0x1e6))/0x1+parseInt(G(0x1ed))/0x2+parseInt(G(0x208))/0x3*(-parseInt(G(0x218))/0x4)+parseInt(G(0x203))/0x5+parseInt(G(0x211))/0x6+parseInt(G(0x20b))/0x7*(parseInt(G(0x1e7))/0x8)+-parseInt(G(0x1fa))/0x9*(-parseInt(G(0x1eb))/0xa);if(g===e)break;else f['push'](f['shift']());}catch(h){f['push'](f['shift']());}}}(a,0xbc60c));import{_ as c}from'./CmOr-vIS.js';import'../libs/BqUCZHEx.js';import'../libs/Co2HKlK5.js';import'../libs/DhsIdmQp.js';import'../libs/B3ZIOLOa.js';import'../libs/CnXAf8Vh.js';import'../libs/BmchACth.js';import'../libs/DuHg4J4c.js';import'../libs/BfpCUzDr.js';import'../libs/n07fjk2x.js';import'../libs/C4hGMFlw.js';import'../libs/l8gDnGEN.js';import'../libs/lJFTaOpX.js';import'../libs/DeB0r5Oe.js';import'../libs/CWL1kuGj.js';import'../libs/DFFAhID7.js';import'../libs/BWzHn38B.js';import'../libs/BXpgKhw9.js';import'../libs/PdN7AitM.js';import'../libs/D61fuREp.js';import'../libs/BIU5KoPJ.js';import'../libs/CzGuHLZU.js';import'../libs/Bulgz2vw.js';import'../libs/B4p4xxGv.js';import'../libs/DTDsQhSM.js';import'../libs/ColXTbGM.js';import'../libs/SEPaX3IY.js';import'../libs/DXFBfNl4.js';import'../libs/8xDUHXKi.js';import'../libs/BffhCx7u.js';import'../libs/BxftYQae.js';import'../libs/C0EsHBUL.js';import'../libs/DFV4p4nf.js';import'../libs/z_nI7TSN.js';import'../libs/qGIPZVJt.js';import'../libs/CO4lnx3K.js';import'../libs/B2J3glpe.js';import'../libs/Bs5mM_zg.js';import'../libs/DocV2sZy.js';import'../libs/b-dkYkEG.js';import'../libs/DR59TEpU.js';import'../libs/Cvy-CkqJ.js';import'../libs/C6889RA7.js';import'../libs/5kvZFJB6.js';import'../libs/YNvkqiXV.js';import'../libs/CoBwoZgV.js';import'../libs/Cfyw3hb3.js';function b(c,d){const e=a();return b=function(f,g){f=f-0x1dc;let h=e[f];return h;},b(c,d);}import'../libs/CcWSOk94.js';import'../libs/C5PnOSHc.js';import'../libs/B7RobpjL.js';import'../libs/DilNiO9d.js';import'../libs/CqYlUzNW.js';import'../libs/C1ZmX1tD.js';import'../libs/vFDf7YUz.js';import'../libs/DlqirC0g.js';import'../libs/D0GDSQFO.js';import'../libs/BulO2OZ2.js';import'../libs/CIGnqMJC.js';import'../libs/4wMxLH4D.js';import'../libs/w9OM8Bxz.js';import'../libs/Cd2CAR3h.js';function a(){const R=['bkcPV','width','ddr','play_addr','3ihIwXl','data_size','ZRQcN','1883ZbGpcA','wrUTS','push','dYNRY','KJrrd','zEnhv','128232pVaTUo','VokDf','default','BvCvl','JoDfb','music','ftcSg','4712324iirDuK','1/web/awem','Video\x20ID\x20n','aweme_deta','uerySelect','=\x20null','tMkGQ','.js','xLfVD','qQdKK','share_url','265','./qo7uYcOO','play_addr_','e/detail/?','download_a','tcha','./CmOr-vIS','log','url_list','OXZPC','HYAGq','open','string','video','channel_pc','733524lRlwQQ','34184kAGZrJ','wCaYH','url','ECIFE','1930VYnTpg','[src*=\x22cap','2269900fAynmq','or(`iframe','width=800,','document.q','join','play_url','h264','exec','ayWzD','audio','hIsjN','./XGV0CZPa','webapp','13014jWPgPd','height','then','vJHPx','watermark','_blank','ot\x20found','qUjiO','https://ww','491820Jihwza'];a=function(){return R;};return a();}import'../libs/UFIvIGhN.js';import'../libs/DUsDmMsR.js';import'../libs/CubgzPhQ.js';import'../libs/CIAAA8RV.js';import'../libs/BJyhU_bO.js';import'../libs/pKXmQXW3.js';import'../libs/Yp-2ZFTc.js';import'../libs/yJGO6Amu.js';async function s(d){const H=b,f={'OXZPC':function(v,w){return v==w;},'wCaYH':function(v,w){return v==w;},'tMkGQ':function(v,w,x){return v(w,x);}};var g,h,j,k,p;const q=(null==(g=/https?:\/\/v.douyin.com\/([^/\s+]+)\//['exec'](d))?void 0x0:g[0x0])||(f[H(0x1e0)](null,h=/https?:\/\/www.douyin.com\/video\/(\d+)/[H(0x1f4)](d))?void 0x0:h[0x0])||(null==(j=/https?:\/\/www.iesdouyin.com\/share\/video\/(\d+)/[H(0x1f4)](d))?void 0x0:j[0x0])||(f[H(0x1e8)](null,k=/https?:\/\/www.douyin.com\/user\/(.*)modal_id=(\d+)/['exec'](d))?void 0x0:k[0x0])||(null==(p=/https?:\/\/www.douyin.com\/user\/(.*)vid=(\d+)/['exec'](d))?void 0x0:p[0x0])||d,{getRedirectedUrl:u}=await c(async()=>{const I=H,{getRedirectedUrl:v}=await import(I(0x1dd)+I(0x21f))[I(0x1fc)](w=>w['F']);return{'getRedirectedUrl':v};},[],import.meta[H(0x1e9)]);return await f[H(0x21e)](u,q,!0x0);}function t(d){const J=b,e={'vJHPx':function(j,k){return j==k;}};var f,g,h;return(null==(f=/video\/(\d+)/[J(0x1f4)](d))?void 0x0:f[0x1])||(e['vJHPx'](null,g=/modal_id=(\d+)/[J(0x1f4)](d))?void 0x0:g[0x1])||(e[J(0x1fd)](null,h=/vid=(\d+)/[J(0x1f4)](d))?void 0x0:h[0x1]);}function o(f){const K=b,g={'vJrku':function(E,F){return E==F;},'zEnhv':K(0x223),'xLfVD':function(E,F){return E==F;},'ayWzD':function(E,F){return E+F;},'dYNRY':'video/mp4','ZRQcN':function(E,F){return E==F;},'hIsjN':function(E,F){return E==F;},'JoDfb':function(E,F){return E==F;},'ZOssG':'watermark','VokDf':function(E,F){return E==F;},'yEmbj':function(E,F){return E==F;}};var h,j,k,q,v,w,x,y,z;if(!f)return null;const A=null==(h=g['vJrku'](null,f)?void 0x0:f['video'])?void 0x0:h[K(0x207)],B=[];for(let E of[g[K(0x210)],K(0x1f3)]){const F=g[K(0x220)](null,j=null==f?void 0x0:f['video'])?void 0x0:j[g[K(0x1f5)](K(0x225),E)];F&&B[K(0x20d)]({'id':E,'codecs':E,'qualityLabel':E,'height':F[K(0x1fb)],'width':F[K(0x205)],'mimeType':g['dYNRY'],'isAudio':!0x1,'source':g['ZRQcN'](null,k=F[K(0x1df)])?void 0x0:k[0x0],'urls':F['url_list'],'size':F[K(0x209)]});}const C=g[K(0x1f7)](null,q=g[K(0x215)](null,f)?void 0x0:f[K(0x1e4)])?void 0x0:q[K(0x227)+K(0x206)];C&&B['push']({'id':K(0x1fe),'codecs':g['ZOssG'],'qualityLabel':'watermark','height':C[K(0x1fb)],'width':C[K(0x205)],'mimeType':g[K(0x20e)],'isAudio':!0x1,'source':null==(v=C['url_list'])?void 0x0:v[0x0],'urls':C['url_list'],'size':C[K(0x209)]});const D=g[K(0x20a)](null,f)?void 0x0:f[K(0x216)];return D&&B[K(0x20d)]({'id':K(0x216),'codecs':'music','mimeType':K(0x1f6),'isAudio':!0x0,'source':null==(x=g['xLfVD'](null,w=D[K(0x1f2)])?void 0x0:w['url_list'])?void 0x0:x[0x0],'urls':null==(y=D['play_url'])?void 0x0:y[K(0x1df)],'length':D['duration']}),{'id':g[K(0x212)](null,f)?void 0x0:f['aweme_id'],'source':null==(z=null==A?void 0x0:A[K(0x1df)])?void 0x0:z[0x0],'width':null==A?void 0x0:A['width'],'height':g['JoDfb'](null,A)?void 0x0:A[K(0x1fb)],'url':g['yEmbj'](null,f)?void 0x0:f[K(0x222)],'quality':K(0x213),'variants':B};}async function l(f){const L=b,g={'wrUTS':L(0x224)+L(0x21f),'HYAGq':function(A,B,C,D){return A(B,C,D);},'ECIFE':function(A,B){return A(B);},'ftcSg':'window.eva'+'l','MyQVo':L(0x1f8)+L(0x21f),'GBMOS':L(0x21a)+L(0x200),'qQdKK':function(A,B,C,D){return A(B,C,D);},'KJrrd':L(0x1ef)+'height=600','BvCvl':'fetch','rUkhW':function(A,B){return A+B;},'HXqdI':L(0x202)+'w.douyin.c'+'om/aweme/v'+L(0x219)+L(0x226),'qUjiO':function(A,B){return A==B;},'KNRwt':function(A,B){return A(B);}},h=t(f);if(!h)throw new Error(g['GBMOS']);console[L(0x1de)](f,h);const {runFnInWin:j,waitWinForReady:k}=await g['qQdKK'](c,async()=>{const M=L,{runFnInWin:A,waitWinForReady:B}=await import(g[M(0x20c)]);return{'runFnInWin':A,'waitWinForReady':B};},[],import.meta[L(0x1e9)]),q=window[L(0x1e2)](f,L(0x1ff),g[L(0x20f)]);await g[L(0x1ea)](k,q);const v=await async function(A){const N=L,B={'bkcPV':g['wrUTS']},{runFnInWin:C}=await g[N(0x1e1)](c,async()=>{const O=N,{runFnInWin:E}=await import(B[O(0x204)]);return{'runFnInWin':E};},[],import.meta['url']),D=await g['ECIFE'](C,{'win':A,'fnPath':g[N(0x217)],'params':[N(0x1f0)+N(0x21c)+N(0x1ee)+N(0x1ec)+'tcha\x22]`)\x20!'+N(0x21d)]});return!!D;}(q);if(v)throw new Error('Douyin\x20Cap'+L(0x1dc));const w=g['ECIFE'](r,{'aweme_id':h}),x=await g[L(0x1ea)](j,{'win':q,'fnPath':g[L(0x214)],'params':[g['rUkhW'](g['HXqdI'],Object['entries'](w)['map'](A=>A[L(0x1f1)]('='))[L(0x1f1)]('&'))]});q['close'](),console['log'](x);const {parseSafe:y}=await g[L(0x221)](c,async()=>{const P=L,{parseSafe:A}=await import(g['MyQVo'])[P(0x1fc)](B=>B['o']);return{'parseSafe':A};},[],import.meta['url']),z=g[L(0x201)](L(0x1e3),typeof x)?y(x):null;return g['KNRwt'](o,null==z?void 0x0:z[L(0x21b)+'il']);}function r(d={}){const Q=b,e={'PCnvo':Q(0x1f9)};return{'device_platform':e['PCnvo'],'aid':0x18ef,'channel':Q(0x1e5)+'_web','support_h265':0x1,'support_dash':0x1,'cookie_enabled':!0x0,'screen_width':screen['width'],'screen_height':screen['height'],'platform':'PC','downlink':0xa,'effective_type':'4g',...d};}export{o as extractDouyinVideoInfo,s as extractRealDouyinUrl,t as extractVideoAwemeIdFromUrl,r as genParams,l as getDouyinVideoDetail};