(function(d,e){const G=b,f=d();while(!![]){try{const g=-parseInt(G(0x149))/0x1+parseInt(G(0x120))/0x2+parseInt(G(0x12c))/0x3*(-parseInt(G(0x14d))/0x4)+-parseInt(G(0x13c))/0x5*(parseInt(G(0x14b))/0x6)+-parseInt(G(0x108))/0x7+-parseInt(G(0x129))/0x8*(-parseInt(G(0x113))/0x9)+parseInt(G(0x11e))/0xa;if(g===e)break;else f['push'](f['shift']());}catch(h){f['push'](f['shift']());}}}(a,0xb7d76));import{_ as c}from'./CfNsBWBh.js';import'../libs/BqUCZHEx.js';import'../libs/Co2HKlK5.js';import'../libs/DhsIdmQp.js';import'../libs/B3ZIOLOa.js';import'../libs/CnXAf8Vh.js';import'../libs/BmchACth.js';import'../libs/DuHg4J4c.js';import'../libs/BfpCUzDr.js';import'../libs/n07fjk2x.js';import'../libs/C4hGMFlw.js';import'../libs/l8gDnGEN.js';import'../libs/lJFTaOpX.js';import'../libs/DeB0r5Oe.js';function a(){const R=['2022PlQlMi','w.douyin.c','124EQoBGt','igKxa','url','download_a','video','VlUOg','ycbbw','tcha\x22]`)\x20!','channel_pc','bhgPi','om/aweme/v','4861584LrYuEM','_blank','width','mldex','height','njfwE','yMDzm','wBjKn','music','aweme_id','map','4101102davxoX','MPQDt','play_addr_','pSlIq','QdsGT','play_addr','TlKvQ','dALAc','[src*=\x22cap','entries','ot\x20found','17577190ztJchX','string','275278SNrWHr','.js','OPojw','./caKDUVis','AkTbJ','aweme_deta','exec','play_url','qjeQK','8sEGvzR','bJxiv','window.eva','26787riFfap','sVwJi','push','fjjQm','NHgdm','uerySelect','./CfNsBWBh','XjWsl','rFBUn','video/mp4','TwpKk','document.q','log','duration','./CJbcq1ZK','data_size','6855LXnYzT','ZXwaI','mJOCB','open','then','watermark','IVaLB','or(`iframe','h264','1/web/awem','url_list','height=600','join','164684imWFQH','HzKGN'];a=function(){return R;};return a();}import'../libs/CWL1kuGj.js';import'../libs/DFFAhID7.js';import'../libs/BWzHn38B.js';import'../libs/BXpgKhw9.js';import'../libs/PdN7AitM.js';import'../libs/D61fuREp.js';import'../libs/BIU5KoPJ.js';import'../libs/CzGuHLZU.js';import'../libs/Bulgz2vw.js';import'../libs/B4p4xxGv.js';import'../libs/DTDsQhSM.js';import'../libs/ColXTbGM.js';import'../libs/SEPaX3IY.js';import'../libs/DXFBfNl4.js';import'../libs/8xDUHXKi.js';import'../libs/BffhCx7u.js';import'../libs/BxftYQae.js';function b(c,d){const e=a();return b=function(f,g){f=f-0x107;let h=e[f];return h;},b(c,d);}import'../libs/C0EsHBUL.js';import'../libs/DFV4p4nf.js';import'../libs/z_nI7TSN.js';import'../libs/qGIPZVJt.js';import'../libs/CO4lnx3K.js';import'../libs/B2J3glpe.js';import'../libs/Bs5mM_zg.js';import'../libs/DocV2sZy.js';import'../libs/b-dkYkEG.js';import'../libs/DR59TEpU.js';import'../libs/Cvy-CkqJ.js';import'../libs/C6889RA7.js';import'../libs/5kvZFJB6.js';import'../libs/YNvkqiXV.js';import'../libs/CoBwoZgV.js';import'../libs/Cfyw3hb3.js';import'../libs/CcWSOk94.js';import'../libs/C5PnOSHc.js';import'../libs/B7RobpjL.js';import'../libs/DilNiO9d.js';import'../libs/CqYlUzNW.js';import'../libs/C1ZmX1tD.js';import'../libs/vFDf7YUz.js';import'../libs/DlqirC0g.js';import'../libs/D0GDSQFO.js';import'../libs/BulO2OZ2.js';import'../libs/CIGnqMJC.js';import'../libs/4wMxLH4D.js';import'../libs/w9OM8Bxz.js';import'../libs/Cd2CAR3h.js';import'../libs/UFIvIGhN.js';import'../libs/DUsDmMsR.js';import'../libs/CubgzPhQ.js';import'../libs/CIAAA8RV.js';import'../libs/BJyhU_bO.js';import'../libs/pKXmQXW3.js';import'../libs/Yp-2ZFTc.js';import'../libs/yJGO6Amu.js';async function s(d){const H=b,f={'MPQDt':H(0x132)+H(0x121),'yMDzm':function(v,w){return v==w;},'LyjJX':function(v,w){return v==w;},'ycbbw':function(v,w,x,y){return v(w,x,y);}};var g,h,j,k,m;const q=(null==(g=/https?:\/\/v.douyin.com\/([^/\s+]+)\//[H(0x126)](d))?void 0x0:g[0x0])||(f[H(0x10e)](null,h=/https?:\/\/www.douyin.com\/video\/(\d+)/[H(0x126)](d))?void 0x0:h[0x0])||(f[H(0x10e)](null,j=/https?:\/\/www.iesdouyin.com\/share\/video\/(\d+)/[H(0x126)](d))?void 0x0:j[0x0])||(f['LyjJX'](null,k=/https?:\/\/www.douyin.com\/user\/(.*)modal_id=(\d+)/[H(0x126)](d))?void 0x0:k[0x0])||(null==(m=/https?:\/\/www.douyin.com\/user\/(.*)vid=(\d+)/[H(0x126)](d))?void 0x0:m[0x0])||d,{getRedirectedUrl:u}=await f[H(0x153)](c,async()=>{const I=H,{getRedirectedUrl:v}=await import(f[I(0x114)])[I(0x140)](w=>w['F']);return{'getRedirectedUrl':v};},[],import.meta[H(0x14f)]);return await u(q,!0x0);}function t(d){const J=b,e={'mJOCB':function(j,k){return j==k;},'xERHT':function(j,k){return j==k;}};var f,g,h;return(e[J(0x13e)](null,f=/video\/(\d+)/['exec'](d))?void 0x0:f[0x1])||(null==(g=/modal_id=(\d+)/[J(0x126)](d))?void 0x0:g[0x1])||(e['xERHT'](null,h=/vid=(\d+)/[J(0x126)](d))?void 0x0:h[0x1]);}function o(f){const K=b,g={'NHgdm':function(E,F){return E==F;},'TlKvQ':K(0x144),'bhgPi':function(E,F){return E+F;},'QdsGT':K(0x115),'HzKGN':K(0x141),'IVaLB':K(0x135),'sVwJi':'music','bJxiv':'audio','VlUOg':function(E,F){return E==F;},'ZXwaI':function(E,F){return E==F;},'fjjQm':function(E,F){return E==F;},'njfwE':function(E,F){return E==F;},'TwpKk':'default'};var h,j,k,q,v,w,x,y,z;if(!f)return null;const A=null==(h=g[K(0x130)](null,f)?void 0x0:f[K(0x151)])?void 0x0:h[K(0x118)],B=[];for(let E of['265',g[K(0x119)]]){const F=null==(j=null==f?void 0x0:f[K(0x151)])?void 0x0:j[g[K(0x156)](g[K(0x117)],E)];F&&B[K(0x12e)]({'id':E,'codecs':E,'qualityLabel':E,'height':F[K(0x10c)],'width':F[K(0x10a)],'mimeType':'video/mp4','isAudio':!0x1,'source':g[K(0x130)](null,k=F[K(0x146)])?void 0x0:k[0x0],'urls':F['url_list'],'size':F[K(0x13b)]});}const C=g[K(0x130)](null,q=g[K(0x130)](null,f)?void 0x0:f[K(0x151)])?void 0x0:q[K(0x150)+'ddr'];C&&B['push']({'id':g[K(0x14a)],'codecs':g[K(0x14a)],'qualityLabel':g[K(0x14a)],'height':C[K(0x10c)],'width':C[K(0x10a)],'mimeType':g[K(0x142)],'isAudio':!0x1,'source':null==(v=C[K(0x146)])?void 0x0:v[0x0],'urls':C[K(0x146)],'size':C[K(0x13b)]});const D=null==f?void 0x0:f['music'];return D&&B[K(0x12e)]({'id':K(0x110),'codecs':g[K(0x12d)],'mimeType':g[K(0x12a)],'isAudio':!0x0,'source':null==(x=g[K(0x152)](null,w=D[K(0x127)])?void 0x0:w['url_list'])?void 0x0:x[0x0],'urls':g[K(0x13d)](null,y=D[K(0x127)])?void 0x0:y[K(0x146)],'length':D[K(0x139)]}),{'id':g[K(0x12f)](null,f)?void 0x0:f[K(0x111)],'source':g[K(0x130)](null,z=g[K(0x12f)](null,A)?void 0x0:A[K(0x146)])?void 0x0:z[0x0],'width':g['fjjQm'](null,A)?void 0x0:A[K(0x10a)],'height':g[K(0x10d)](null,A)?void 0x0:A[K(0x10c)],'url':null==f?void 0x0:f['share_url'],'quality':g[K(0x136)],'variants':B};}async function l(f){const L=b,g={'mldex':function(A,B,C,D){return A(B,C,D);},'OPojw':L(0x12b)+'l','pSlIq':L(0x137)+L(0x131)+L(0x143)+L(0x11b)+L(0x154)+'=\x20null','igKxa':function(A,B){return A(B);},'rFBUn':function(A,B,C,D){return A(B,C,D);},'dALAc':function(A,B){return A(B);},'CMECD':function(A,B){return A(B);},'BffZe':'https://ww'+L(0x14c)+L(0x107)+L(0x145)+'e/detail/?','XjWsl':function(A,B){return A==B;},'qjeQK':L(0x11f),'wBjKn':function(A,B){return A(B);}},h=g['igKxa'](t,f);if(!h)throw new Error('Video\x20ID\x20n'+L(0x11d));console[L(0x138)](f,h);const {runFnInWin:j,waitWinForReady:k}=await g[L(0x134)](c,async()=>{const M=L,{runFnInWin:A,waitWinForReady:B}=await import(M(0x123)+M(0x121));return{'runFnInWin':A,'waitWinForReady':B};},[],import.meta[L(0x14f)]),q=window[L(0x13f)](f,L(0x109),'width=800,'+L(0x147));await g[L(0x14e)](k,q);const v=await async function(A){const N=L,{runFnInWin:B}=await g[N(0x10b)](c,async()=>{const O=N,{runFnInWin:D}=await import('./caKDUVis'+O(0x121));return{'runFnInWin':D};},[],import.meta['url']),C=await B({'win':A,'fnPath':g[N(0x122)],'params':[g[N(0x116)]]});return!!C;}(q);if(v)throw new Error('Douyin\x20Cap'+'tcha');const w=g[L(0x11a)](r,{'aweme_id':h}),x=await g['CMECD'](j,{'win':q,'fnPath':'fetch','params':[g['BffZe']+Object[L(0x11c)](w)[L(0x112)](A=>A[L(0x148)]('='))[L(0x148)]('&')]});q['close'](),console[L(0x138)](x);const {parseSafe:y}=await g[L(0x134)](c,async()=>{const P=L,{parseSafe:A}=await import(P(0x13a)+P(0x121))[P(0x140)](B=>B['o']);return{'parseSafe':A};},[],import.meta[L(0x14f)]),z=g[L(0x133)](g[L(0x128)],typeof x)?g[L(0x10f)](y,x):null;return o(null==z?void 0x0:z[L(0x125)+'il']);}function r(d={}){const Q=b,e={'AkTbJ':'webapp','keQpJ':Q(0x155)+'_web'};return{'device_platform':e[Q(0x124)],'aid':0x18ef,'channel':e['keQpJ'],'support_h265':0x1,'support_dash':0x1,'cookie_enabled':!0x0,'screen_width':screen[Q(0x10a)],'screen_height':screen[Q(0x10c)],'platform':'PC','downlink':0xa,'effective_type':'4g',...d};}export{o as extractDouyinVideoInfo,s as extractRealDouyinUrl,t as extractVideoAwemeIdFromUrl,r as genParams,l as getDouyinVideoDetail};